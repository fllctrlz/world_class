<!DOCTYPE html>
<html>
<head>
    <title>Ctrl-Z</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"> 
	<link rel="stylesheet" type="text/css" href="mystyle.css">
</head>

<body>

<div class="container">
	<img src = "images/combined_logo2.png"></img>
</div>		
<br>

	<!-- menu -->
    <div class="container">
      <ul class="nav nav-tabs">
        <li class="active">
		<a href="index.html">Home</a>
		</li>
		 <li class="dropdown">
			<a class="dropdown-toggle" data-toggle="dropdown" href="#">Team Profile<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a href="members.html">Members</a></li>
				<li><a href="mentors.html">Coaches and Mentors</a></li>
			</ul>
        </li>
        <li class="dropdown">
			<a class="dropdown-toggle" data-toggle="dropdown" href="#">Robot<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a href="design.html">Design</a></li>
				<li><a href="strategy.html">Strategy</a></li>
				<li><a href="programming.html">Programming</a></li>                        
			</ul>
        </li>
        <li class="dropdown">
			<a class="dropdown-toggle" data-toggle="dropdown" href="#">Research<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a href="solution.html">Solution</a></li>
				<li><a href="experts.html">Experts</a></li>
				<li><a href="expertnotes.html">Expert Notes</a></li>
				<li><a href="references.html">References</a></li>
			</ul>
		</li>
		<li>
		<a href="events.html">Sharing</a>
        </li>
		
       <li class="dropdown">
			<a class="dropdown-toggle" data-toggle="dropdown" href="#">Resources<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a href = "http://www.firstlegoleague.org/sites/default/files/Challenge/FLL_WORLD_CLASS/FLL-WORLD-CLASS-Challenge-FINAL-v2.pdf" target="_blank">World Class Challenge</a></li>
				<li><a href = "http://www.firstlegoleague.org/sites/default/files/Challenge/FLL_WORLD_CLASS/FLL-WORLD-CLASS-Challenge-Updates-November-13.pdf" target="_blank">Robot Game Updates</a></li>
				<li><a href = "fll/WorldClassRobotGameRulesNov21.docx" target="_blank">Latest updates - merged</a></li>
 				<li><a href = "http://flltournament.com/Scoresheet.aspx?CID=17" target="_blank">Score Calculator</a></li>
				<li><a href = "http://home.ican.net/~686280/index.html" target="_blank">Nature's fury website</a></li>
			</ul>
        </li>
	  </ul>
    </div>
    <!-- end of menu -->
	
    
    <div class="container">
    <h1>General Strategy</h1>
	<br>
		<ul>
			<li>We use math blocks, variables, logic,
			compare blocks, loops, switches, and MyBlocks with
			data hubs (so we could reuse code but change 
			parameters)</li>
			
			<li>We have created a selection program
			which allows us to quickly and efficiently 
			choose missions (or even re-run missions 
			quickly) during matches. Audible sounds 
			and meaningful EV3 screen messages allow 
			the user to select programs with ease</li>
			
			<li>By using gear lash removal before each 
			movement, the ramp up feature when starting
			from stationary position, and our own 
			error-corrected move block, Proportional Integral Derivative
			line following we are able to achieve more consistent and repeatable
			robot movement</li>
			
			<li>We regularly use subroutines (i.e. MyBlock
			s) to reuse code whenever possible and to keep
			our program sizes manageable. See diagram of our 
			programming hierarchy:</li>
				
				<img class="xl_img" src="images/robot/hierachy.png"></img>
			
			<li>We annotate our work to help us
			debug programs and to better understand
			each programming block's purpose<li>
			
			<li>We make frequent use of our square up 
			subroutine which allows the robot to position 
			itself perpendicularly to any black or green line (from
			virtually any angle of attack)</li>
			
			<li>Our MyBlocks and variables are given 
			descriptive and meaningful names to allow 
			us to easily understand what our programs 
			are doing</li>
			
			<li>Within all of our major movement
			MyBlocks (such as error corrected move block and PID line following block),
			we have a MyBlock inside that is constantly 
			checking if a certain exit condition is met.
			When that exit condition is met, the program
			immediately exits that loop. For example, stop
			the robot when light sensor 4 sees a black
			line.</li>
			
			<li>Our "Check-Abort" MyBlock constantly checks 
			whether the EV3 up arrow button is pressed.   
			We can interrupt our missions at any time and
			still stay within the overall selection program 
			to avoid the need to exit the program and find 
			the next program or mission.</li>
			
			<li>When accelerating from a stationary position,
			our robot uses a Ctrl-Z-designed ramp up feature 
			to minimize the likelihood of wheel slip. 
			This provides for greater repeatability of 
			the robot’s movements.</li>
			
			<li>As well, instead of using standard calibrated
			values, we use raw light sensor values for more
			granularity. Our calibration program collects the
			lowest and highest light readings the robot would 
			see. Then, based on those, we scale any light
			readings to a usable range where 0 is white and 
			1000 is black.</li>
		
		</ul>
		
		<br>
		
		<h1>MyBlock Examples</h1>
		
		<br>
		
		<h3>ScaleLight</h3>
		 
		 <p>This scale light MyBlock allow us to read the
		 raw values that a selected light sensor currently
		 sees and either output that directly or use a
		 formula to convert it to a reading in a range from
		0 being white to 1000 being black (based on our
		values for white and black collected in calibration)
		and then output it.
		The equation we created to scale our light readings uses 
		variables for the minimum and maximum raw light readings 
		read in calibration. Inputting the minimum raw light 
		reading (white) outputs a value of 0, and the maximum raw
		light reading (black) outputs a value of 1000. With 
		these two pairs of coordinates, we found a linear function;
		when you input the current raw light value it will scale it
		to some point in the range and output a usable calibrated
		value with 0 being white and 1000 being black.</p>
		
		<p>Returned light reading by the block = 1000*
		(current raw light value – min) / (max – min)</p>
		
		<img class="xl_img" src="images/robot/scalelight.jpg"></img>
		
		<h3>Proportional Inte Derivative Line Following</h3>
		
		<p>Our Proportional Integral Derivative Line Following
		program is a smoother way to line follow that adjusts
		the motor powers of motors B and C proportionally to 
		the distance from the edge of the line, which would
		have a light value of 500. It takes into account the 
		error (the difference between the optimal and current
		light sensor reading), the integral (the sum of all 
		errors), and the derivative (the difference between 
		the current error and last error). Those values are 
		scaled to an appropriate value for use in motor powers
		based on three user-inputted values in variables in
		InitMain, Kp, Ki, and Kd.</p>
		
		<img class="xl_img" src="images/robot/pid.jpg"></img>
		
		<h3>Main</h3>

		<p>This selection program allows us to quickly and 
		efficiently change from one of our program/missions 
		to another during the two and a half minute match. 
		In fact, our selection program is a program that
		contains my-blocks that each holds one of our missions
		. The user of the robot simply starts the selection 
		program and clicks the center button to start the first
		mission. Then, when the mission finishes, the robot 
		automatically chooses the next mission and waits for
		you to just click the center button again, without
		any hassle. In case you do need to go backwards or 
		forwards through our list of missions, the program 
		accommodates for that by allowing you to navigate 
		with the left and rights arrow buttons.</p>
		
		<img class="xl_img" src="images/robot/main.jpg"></img>
		
		<h3>Error Corrected Move Block</h3>
		
		<p>For straighter and more accurate movement because
		the move block in the EV-3 program is unreliable. 
		Our program continuously measures the distances 
		travelled by each motor and constantly adjusts its 
		speed to maintain the predetermined ratio of the 
		distance travelled by motors B and C. Also allows
		for accurate arc turns.</p>
		
		<img class="xl_img" src="images/robot/zmove.jpg"></img>
		
		<h3>Check Abort</h3>
		
		<p>We have created a MyBlock subroutine called 
		Check-Abort that constantly checks whether the up
		arrow button is pressed. If so, it exits the loop
		in the MyBlock it is in. Our programs are made almost
		exclusively out of MyBlocks, including error 
		correction, wait blocks, pivot-turns, PID, etc.
		Therefore, in the rare circumstance that we must
		stop our robot, we can do it at any time and still
		stay within the overall selection program and to 
		time, rather than fiddle with the buttons to select
		the next mission.</p>
		
		<img class="xl_img" src="images/robot/checkabort.jpg"></img>
		
    </div>
	<script src="jquery/jquery-1.11.1.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
</body>
</html>
